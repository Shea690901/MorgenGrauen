IsEqual()

FUNKTION
    int IsEqual(object ob)

DEFINIERT IN:

    /std/unit.c

ARGUMENTE:

    ob      Das Objekt das geprueft werden soll.

BESCHREIBUNG:                                                               

    Diese Funktion prueft ob zwei Objekte vom gleichen Typ sind, also ob
    z.B. ob und this_object() beides Muenzen sind oder beides Edelsteine.
    Bei einem Ergebnis != 0 fasst unit.c diese zwei Objekte automatisch
    zusammen, wenn ob->IsEqual(this_object()) auch einen Wert != 0 ergibt.

RUeCKGABEWERT:

    0 - this_object() ist nicht vom selben Typ wie ob
    1 - this_object() ist vom gleichen Typ wie ob

BEISPIELE:

    o Ein Objekt das verschiedene Beschreibungen haben kann...

       int IsEqual(object ob)
       {
          if (!(int)::IsEqual(ob)) return 0;
          return (QueryProp(P_SHORT)==ob->QueryProp(P_SHORT));
       }

    o Ein Objekt mit Untereinheiten:

       void AddPieces(int i)
       {  pieces+=i;   }

       int QueryPieces()
       {  return pieces;   }

       int IsEqual(object ob)
       {
          if (!(int)::IsEqual(ob)) return 0;
          if (!extern_call()) { // diesen Block immer nur einmal ausfuehren
             int i;
             i=pieces;
             AddPieces((int)call_other(ob, "QueryPieces"));
             ob->AddPieces(i);
          }
          return 1;
       }


SIEHE AUCH:

    /std/unit.c, /obj/money.c und /obj/boerse.c

------------------------------------------------------------------------------
Last modified: Thu Feb 4 17:40:05 1999 by Padreic
